<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Listen test</title>

    <script src="config.js"></script>
    <script src="../third-party/requirejs/require.js"></script>
</head>
<body>
    <button id="clickMe">Click me!</button>
    <button id="pauseOne">Pause One</button>
    <button id="pauseTwo">Pause Two</button>
    <br/>
    <textarea id="output" style="width: 400px; height: 100px;"></textarea>
    <script>
        require(["uber/dom", "uber/listen"], function(dom, listen){
            var clickHandle1 = null,
                clickHandle2 = null;
            var cm = dom.byId("clickMe");
            clickHandle1 = listen(cm, "click", function(){
                var o = dom.byId("output");
                o.innerHTML += "handler 1\n";
                o.scrollTop = o.scrollHeight;
            });
            clickHandle2 = listen(cm, "click", function(){
                var o = dom.byId("output");
                o.innerHTML += "handler 2\n";
                o.scrollTop = o.scrollHeight;
            });

            var onePaused = false;
            listen(dom.byId("pauseOne"), "click", function(){
                if(onePaused){
                    clickHandle1.resume();
                }else{
                    clickHandle1.pause();
                }
                onePaused = !onePaused;
                dom.byId("pauseOne").innerHTML = onePaused ? "Resume One" : "Pause One";
            });

            var twoPaused = false;
            listen(dom.byId("pauseTwo"), "click", function(){
                if(twoPaused){
                    clickHandle2.resume();
                }else{
                    clickHandle2.pause();
                }
                twoPaused = !twoPaused;
                dom.byId("pauseTwo").innerHTML = twoPaused ? "Resume Two" : "Pause Two";
            });
        });
    </script>
</body>
</html>
